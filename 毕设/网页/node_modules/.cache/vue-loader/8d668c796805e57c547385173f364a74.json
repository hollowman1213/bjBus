{"remainingRequest":"/Users/wy/Desktop/毕设/网页/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wy/Desktop/毕设/网页/src/views/HomePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wy/Desktop/毕设/网页/src/views/HomePage.vue","mtime":1618490712942},{"path":"/Users/wy/Desktop/毕设/网页/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wy/Desktop/毕设/网页/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/wy/Desktop/毕设/网页/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wy/Desktop/毕设/网页/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n  export default {\n    name: 'HomePage',\n\twatch:{\n\t\tselectBus(){\n\t\t\tif(this.selectBus == '所有路线'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar _self = this;\n\t\t\t\tthis.$store.commit('setRoute',{route:_self.selectBus});\n\t\t\t\tthis.$router.push('/detail');\n\t\t\t}\n\t\t}\n\t},\n\tbeforeCreate() {\n\t\tvar date = new Date();\n\t\tvar year = date.getFullYear();\n\t\tvar month = date.getMonth();\n\t\tvar timeSelector = [];\n\t\tvar months = ['1月/January','2月/February','3月/March','4月/April','5月/May','6月/June','7月/July','8月/August','9月/September','10月/October','11月/November','12月/December'];\n\t\tvar curChild = [];\n\t\tvar id = 2;\n\t\twhile (id-2 <= month){\n\t\t\tcurChild.push({'id':id,'name':months[id-2]});\n\t\t\tid ++;\n\t\t}\n\t\tvar curYear = {\n\t\t\tid:1,\n\t\t\tname:year,\n\t\t\tchildren:curChild\n\t\t};\n\t\ttimeSelector.push(curYear);\n\t\tvar yearCnt = year-1;\n\t\twhile(yearCnt >= 2010){\n\t\t\tcurChild = [];\n\t\t\tvar monthCnt = 1;\n\t\t\tvar yearId = id;\n\t\t\tid ++;\n\t\t\twhile(monthCnt <= 12){\n\t\t\t\tcurChild.push({'id':id,'name':months[monthCnt-1]});\n\t\t\t\tid ++;\n\t\t\t\tmonthCnt ++;\n\t\t\t}\n\t\t\tcurYear = {\n\t\t\t\tid:yearId,\n\t\t\t\tname:yearCnt,\n\t\t\t\tchildren:curChild\n\t\t\t};\n\t\t\ttimeSelector.push(curYear);\n\t\t\tyearCnt --;\n\t\t}\n\t\tthis.$store.commit('setTimeSelector',{'timeSelector':timeSelector});\n\t},\n    mounted() {\n\t\tvar _self = this;\n    \tthis.$axios.get(\n\t\t\t\t\t\t\"/api/\"\n\t\t\t\t\t\t).then(\n\t\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\t var data = response.data.ret;\n\t\t\t\t\t\t\t data = JSON.parse(data);\n\t\t\t\t\t\t\t _self.notices = data;\n\t\t\t\t\t\t}).catch(function(err){\n\t\t\t\t\t\t\talert(err);\n\t\t\t\t\t\t}); \n\n    },\n\tdata(){\n\t\tvar _self = this;\n\t\treturn\t{\n\t\t\tsearch:'',\n\t\t\tselectBus:'所有路线',\n\t\t\tselectReason:'变更缘由',\n\t\t\tbusRouters:_self.$store.state.busRoutes.split(' '),\n\t\t\treason:[\n\t\t\t\t'变更缘由',\n\t\t\t\t'征集活动',\n\t\t\t\t'公交新策',\n\t\t\t\t'节假日',\n\t\t\t\t'大型活动',\n\t\t\t\t'高铁线路规划',\n\t\t\t\t'地铁线路规划',\n\t\t\t\t'站线规范撤销',\n\t\t\t\t'配合路况调整',\n\t\t\t\t'天气影响',\n\t\t\t\t'政府部门调整要求',\n\t\t\t\t'优化调整',\n\t\t\t\t'调整营业时间'\n\t\t\t],\n\t\t\theaders:[\n\t\t\t\t{text:'发布时间',align:'center',value:'time',width:125},\n\t\t\t\t{text:'标题',value:'title',align:'center',width:200},\n\t\t\t\t{text:'分类',value:'classification',align:'center',width:100},\n\t\t\t\t{text:'修改路线、站点及方法',align:'center',filterable: false,value:'content'}\n\t\t\t],\n\t\t\tnotices:[\n\t\t\t\t{\n\t\t\t\t\ttime:'2021.01.12',\n\t\t\t\t\ttitle:'标题',\n\t\t\t\t\tclassification:'天气',\n\t\t\t\t\tcontent:'一号线:\\n\\t一号站点：取消\\n\\t二号站点：新增'\n\t\t\t\t}\n\t\t\t],\n\t\t\tlogHeaders:[\n\t\t\t\t{text:'操作时间',value:'operateTime'},\n\t\t\t\t{text:'更新时间段',value:'updateTime'},\n\t\t\t\t{text:'更新数量',value:'updateNum'}\n\t\t\t],\n\t\t\tlogDetails:[\n\t\t\t\t{\n\t\t\t\t\toperateTime:'2021.01.12',\n\t\t\t\t\tupdateTime:'2021.01.01-2021.01.12',\n\t\t\t\t\tupdateNum:'2',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\toperateTime:'2021.01.01',\n\t\t\t\t\tupdateTime:'2020.12.13-2021.01.01',\n\t\t\t\t\tupdateNum:'4',\n\t\t\t\t}\n\t\t\t],\n\t\t\ttimeSelector : _self.$store.state.timeSelector,\n\t\t}\n\t},\n    methods:{\n\t\tupdateBusRoute(){\n\t\t\talert(\"1\");\n\t\t},\n\t\tupdateNews(){\n\t\t\talert(\"2\");\n\t\t},\n\t}\n  }\n",{"version":3,"sources":["HomePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HomePage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n\t<v-app\n\tid = 'homepage'>\n\t\t<v-main>\n\t\t\t<v-card>\n\t\t\t\t<v-toolbar\n\t\t\t\t  color=\"#6BAAFE\"\n\t\t\t\t  dark\n\t\t\t\t  flat>\n\t\t\t\t<v-toolbar-title style=\"font-size: 28px;\">北京公交乘车公告</v-toolbar-title>\n\t\t\t\t\n\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t<v-btn text @click=\"updateBusRoute\"><font color=\"white\" size=\"4\">更新公交路线</font></v-btn>\n\t\t\t\t<v-btn text @click=\"updateNews\"><font color=\"white\" size=\"4\">更新乘车公告</font></v-btn>\n\t\t\t\t<template v-slot:extension>\n\t\t\t\t<v-tabs \n\t\t\t\t\tbackground-color='#6BAAFE'\n\t\t\t\t\tcentered\n\t\t\t\t\tfixed-tabs\n\t\t\t\t>\n\t\t\t\t\t<v-tabs-slider color=\"yellow\"></v-tabs-slider>\n\t\t\t\t\t<v-tab color=\"#6BAAFE\" flat><font color=\"white\" size=\"4\">乘车公告</font></v-tab>\n\t\t\t\t\t<v-tab color=\"#6BAAFE\" flat><font color=\"white\" size=\"4\">更新日志</font></v-tab>\n\t\t\t\t\t<v-card flat width=\"300\" color=\"#ffffff\">\n\t\t\t\t\t    <v-select\n\t\t\t\t\t        :items=\"busRouters\"\n\t\t\t\t\t        v-model=\"selectBus\"\n\t\t\t\t\t\t\tbackground-color=\"#6BAAFE\"\n\t\t\t\t\t        solo\n\t\t\t\t\t        flat\n\t\t\t\t\t        style=\"text-align: center;font-size: 18px;-webkit-text-fill-color:white;\"\n\t\t\t\t\t    >\n\t\t\t\t\t    </v-select>\n\t\t\t\t\t</v-card>\n\t\t\t\t\t<v-card flat width=\"300\" color=\"#ffffff\">\n\t\t\t\t\t\t<v-select\n\t\t\t\t\t\t    :items=\"reason\"\n\t\t\t\t\t\t    v-model=\"selectReason\"\n\t\t\t\t\t\t\tbackground-color=\"#6BAAFE\"\n\t\t\t\t\t\t    solo\n\t\t\t\t\t\t    flat\n\t\t\t\t\t\t    style=\"text-align: center;font-size: 18px;-webkit-text-fill-color:white;text-emphasis-style: initial;\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</v-select>\n\t\t\t\t\t</v-card>\n\t\t\t\t\t<v-tab-item>\n\t\t\t\t\t\t<v-row\n\t\t\t\t\t\t\tjustify=\"left\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<v-col md=\"2\">\n\t\t\t\t\t\t\t\t<v-treeview\n\t\t\t\t\t\t\t\t\tactivatable\n\t\t\t\t\t\t\t\t\tmultiple-active=false\n\t\t\t\t\t\t\t\t\tcolor=\"#6ABBFE\"\n\t\t\t\t\t\t\t\t\t:items=\"timeSelector\">\n\t\t\t\t\t\t\t\t</v-treeview>\n\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t\t<v-divider vertical></v-divider>\n\t\t\t\t\t\t\t<v-col>\n\t\t\t\t\t\t\t\t<v-card \n\t\t\t\t\t\t\t\t\tflat\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<v-data-table\n\t\t\t\t\t\t\t\t\t\t\t:headers = \"headers\"\n\t\t\t\t\t\t\t\t\t\t\t:items = \"notices\"\n\t\t\t\t\t\t\t\t\t\t\t:rows-per-page-items=\"1\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"630px\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t</v-data-table>\n\t\t\t\t\t\t\t\t</v-card>\n\t\t\t\t\t\t\t</v-col>\n\t\t\t\t\t\t</v-row>\n\t\t\t\t\t</v-tab-item>\n\t\t\t\t\t<v-tab-item>\n\t\t\t\t\t\t<v-container style=\"margin: -webkit-calc();\">\n\t\t\t\t\t\t\t<v-data-table\n\t\t\t\t\t\t\t\t:headers=\"logHeaders\"\n\t\t\t\t\t\t\t\t:items=\"logDetails\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</v-data-table>\n\t\t\t\t\t\t</v-container>\n\t\t\t\t\t</v-tab-item>\n\t\t\t\t</v-tabs>\n\t\t\t\t</template>\n\t\t\t\t</v-toolbar>\n\t\t\t</v-card>\n\t\t</v-main>\n\t</v-app>\n</template>\n\n<script>\n  export default {\n    name: 'HomePage',\n\twatch:{\n\t\tselectBus(){\n\t\t\tif(this.selectBus == '所有路线'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar _self = this;\n\t\t\t\tthis.$store.commit('setRoute',{route:_self.selectBus});\n\t\t\t\tthis.$router.push('/detail');\n\t\t\t}\n\t\t}\n\t},\n\tbeforeCreate() {\n\t\tvar date = new Date();\n\t\tvar year = date.getFullYear();\n\t\tvar month = date.getMonth();\n\t\tvar timeSelector = [];\n\t\tvar months = ['1月/January','2月/February','3月/March','4月/April','5月/May','6月/June','7月/July','8月/August','9月/September','10月/October','11月/November','12月/December'];\n\t\tvar curChild = [];\n\t\tvar id = 2;\n\t\twhile (id-2 <= month){\n\t\t\tcurChild.push({'id':id,'name':months[id-2]});\n\t\t\tid ++;\n\t\t}\n\t\tvar curYear = {\n\t\t\tid:1,\n\t\t\tname:year,\n\t\t\tchildren:curChild\n\t\t};\n\t\ttimeSelector.push(curYear);\n\t\tvar yearCnt = year-1;\n\t\twhile(yearCnt >= 2010){\n\t\t\tcurChild = [];\n\t\t\tvar monthCnt = 1;\n\t\t\tvar yearId = id;\n\t\t\tid ++;\n\t\t\twhile(monthCnt <= 12){\n\t\t\t\tcurChild.push({'id':id,'name':months[monthCnt-1]});\n\t\t\t\tid ++;\n\t\t\t\tmonthCnt ++;\n\t\t\t}\n\t\t\tcurYear = {\n\t\t\t\tid:yearId,\n\t\t\t\tname:yearCnt,\n\t\t\t\tchildren:curChild\n\t\t\t};\n\t\t\ttimeSelector.push(curYear);\n\t\t\tyearCnt --;\n\t\t}\n\t\tthis.$store.commit('setTimeSelector',{'timeSelector':timeSelector});\n\t},\n    mounted() {\n\t\tvar _self = this;\n    \tthis.$axios.get(\n\t\t\t\t\t\t\"/api/\"\n\t\t\t\t\t\t).then(\n\t\t\t\t\t\t\tfunction(response){\n\t\t\t\t\t\t\t var data = response.data.ret;\n\t\t\t\t\t\t\t data = JSON.parse(data);\n\t\t\t\t\t\t\t _self.notices = data;\n\t\t\t\t\t\t}).catch(function(err){\n\t\t\t\t\t\t\talert(err);\n\t\t\t\t\t\t}); \n\n    },\n\tdata(){\n\t\tvar _self = this;\n\t\treturn\t{\n\t\t\tsearch:'',\n\t\t\tselectBus:'所有路线',\n\t\t\tselectReason:'变更缘由',\n\t\t\tbusRouters:_self.$store.state.busRoutes.split(' '),\n\t\t\treason:[\n\t\t\t\t'变更缘由',\n\t\t\t\t'征集活动',\n\t\t\t\t'公交新策',\n\t\t\t\t'节假日',\n\t\t\t\t'大型活动',\n\t\t\t\t'高铁线路规划',\n\t\t\t\t'地铁线路规划',\n\t\t\t\t'站线规范撤销',\n\t\t\t\t'配合路况调整',\n\t\t\t\t'天气影响',\n\t\t\t\t'政府部门调整要求',\n\t\t\t\t'优化调整',\n\t\t\t\t'调整营业时间'\n\t\t\t],\n\t\t\theaders:[\n\t\t\t\t{text:'发布时间',align:'center',value:'time',width:125},\n\t\t\t\t{text:'标题',value:'title',align:'center',width:200},\n\t\t\t\t{text:'分类',value:'classification',align:'center',width:100},\n\t\t\t\t{text:'修改路线、站点及方法',align:'center',filterable: false,value:'content'}\n\t\t\t],\n\t\t\tnotices:[\n\t\t\t\t{\n\t\t\t\t\ttime:'2021.01.12',\n\t\t\t\t\ttitle:'标题',\n\t\t\t\t\tclassification:'天气',\n\t\t\t\t\tcontent:'一号线:\\n\\t一号站点：取消\\n\\t二号站点：新增'\n\t\t\t\t}\n\t\t\t],\n\t\t\tlogHeaders:[\n\t\t\t\t{text:'操作时间',value:'operateTime'},\n\t\t\t\t{text:'更新时间段',value:'updateTime'},\n\t\t\t\t{text:'更新数量',value:'updateNum'}\n\t\t\t],\n\t\t\tlogDetails:[\n\t\t\t\t{\n\t\t\t\t\toperateTime:'2021.01.12',\n\t\t\t\t\tupdateTime:'2021.01.01-2021.01.12',\n\t\t\t\t\tupdateNum:'2',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\toperateTime:'2021.01.01',\n\t\t\t\t\tupdateTime:'2020.12.13-2021.01.01',\n\t\t\t\t\tupdateNum:'4',\n\t\t\t\t}\n\t\t\t],\n\t\t\ttimeSelector : _self.$store.state.timeSelector,\n\t\t}\n\t},\n    methods:{\n\t\tupdateBusRoute(){\n\t\t\talert(\"1\");\n\t\t},\n\t\tupdateNews(){\n\t\t\talert(\"2\");\n\t\t},\n\t}\n  }\n</script>\n<style>\n\t.v-data-table tr {\n\t  height: 50px;\n\t  overflow-y: hidden;\n\t}\n</style>"]}]}